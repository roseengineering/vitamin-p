!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.picodom=e.picodom||{})}(this,function(e){"use strict";function t(e,t){for(var n,r=[],o=[],a=arguments.length;a-- >2;)r[r.length]=arguments[a];for(;r.length;)if(Array.isArray(n=r.pop()))for(a=n.length;a--;)r[r.length]=n[a];else null!=n&&!0!==n&&!1!==n&&("number"==typeof n&&(n+=""),o[o.length]=n);return"string"==typeof e?{tag:e,data:t||{},children:o}:e(t,o)}function n(e,t,r,a){if(null==r)t=e.insertBefore(o(a),t);else if(a.tag&&a.tag===r.tag){i(t,r.data,a.data);for(var c=a.children.length,d=r.children.length,u={},h=[],s={},v=0;v<d;v++){p=t.childNodes[v];h[v]=p,null!=(k=f(y=r.children[v]))&&(u[k]=[p,y])}for(var v=0,g=0;g<c;){var p=h[v],y=r.children[v],m=a.children[g];if(s[k=f(y)])v++;else{var A=f(m),b=u[A]||[];null==A?(null==k&&(n(t,p,y,m),g++),v++):(k===A?(n(t,b[0],b[1],m),v++):b[0]?(t.insertBefore(b[0],p),n(t,b[0],b[1],m)):n(t,p,null,m),g++,s[A]=m)}}for(;v<d;){var k=f(y=r.children[v]);null==k&&l(t,h[v],y),v++}for(var v in u){var w=(b=u[v])[1];s[w.data.key]||l(t,b[0],w)}}else if(a!==r){v=t;e.replaceChild(t=o(a),v)}return t}function r(e,t){var n={};if("object"!=typeof t||Array.isArray(t))return t;for(var r in e)n[r]=e[r];for(var r in t)n[r]=t[r];return n}function o(e,t){if("string"==typeof e)n=document.createTextNode(e);else{for(var n=(t=t||"svg"===e.tag)?document.createElementNS("http://www.w3.org/2000/svg",e.tag):document.createElement(e.tag),r=0;r<e.children.length;)n.appendChild(o(e.children[r++],t));for(var r in e.data)"oncreate"===r?e.data[r](n):a(n,r,e.data[r])}return n}function a(e,t,n,o){if("key"===t);else if("style"===t)for(var a in r(o,n=n||{}))e.style[a]=n[a]||"";else{try{e[t]=n}catch(e){}"function"!=typeof n&&(n?e.setAttribute(t,n):e.removeAttribute(t))}}function i(e,t,n){for(var o in r(t,n)){var i=n[o],f="value"===o||"checked"===o?e[o]:t[o];"onupdate"===o?i(e):i!==f&&a(e,o,i,f)}}function f(e){if(e&&(e=e.data))return e.key}function l(e,t,n){function r(){e.removeChild(t)}(n.data&&n.data.onremove||r)(t,r)}e.h=t,e.patch=n});
